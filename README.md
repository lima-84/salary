# Salary

Implements a RESTful CRUD API applying SOLID principles and CLEAN Architecture (in progress) for salary readjustment calculations.

## Technologies
- Java Development Kit 17;
- Spring Boot 3.1.5;
- Apache Maven 4.0.0;
- Spring Data JPA (Hibernate);
- PostgreSQL;
- OpenAPI 3.0 SpringDoc with Swagger UI;
- Lombok;
- FasterXML Jackson for JSON handling;
- JUnit;
- Docker for Java server and PostgreSQL database containerization.

## Build and Run

The following sequence of commands can be run on Bash in order to setup the application and its services. For Windows environments, please remove `./` in all Maven Wrapper (`mvnw`) calls. In case `mvnw` is not recognized, try `mvn` instead.

### Clone the repository

Download files directly from GitHub or using Git.

```
git clone https://github.com/lima-84/salary.git
```
### Build the package using Maven Wrapper

From the root directory `salary`, install all dependencies declared in `pom.xml` using Maven Wrapper.

```
./mvnw clean install
```

### Build and run the Docker image using Docker Compose

The Docker image described in the `Dockerfile` and `docker-compose.yaml` files runs the Java RESTful API server and the PostgreSQL database in different containers.

```
docker compose -f docker-compose.yaml up -d --build
```


Bear in mind that the first `docker compose` can take a few minutes in order to download and configure all components into the containers. Following `docker compose` calls shouldn't take more than a few seconds.

The composed Docker container can be removed with another `docker compose` command.

```
docker compose down
```

### Run the application

The Java server can be run using Maven Wrapper with the `spring-boot:run` parameter (called automatically if using `docker compose`).

```
./mvnw spring-boot:run 
``` 

## Endpoint documentation

The RESTful API's endpoint documentation is generated by OpenAPI 3.0 SpringDoc after running the application. It can be accessed as a JSON through the `/api-docs` endpoint or with the Swagger UI on `/swagger-ui/index.html`.

- http://localhost:8080/api-docs (Swagger JSON)
- http://localhost:8080/swagger-ui/index.html (Swagger UI)
